<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uki's Dive Tools</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="img/logo.jpg">
</head>
<body>
    <div id="tooltip-overlay"></div>
    
    <div id="global-tooltip" class="tooltip-content" style="display: none;">
        <button id="tooltip-close-btn">&times;</button>
        <div id="tooltip-body"></div>
    </div>

    <div class="overlay"></div>

    <div class="app-wrapper">
        
        <div class="mobile-header">
            <button id="mobile-menu-toggle" aria-label="OtwÃ³rz menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <img src="img/logo.jpg" alt="Logo" class="logo-img">
            <h2>Uki's Dive Tools</h2>
        </div>
        
        <nav class="sidebar-nav">
            <div class="sidebar-header">
                <img src="img/logo.jpg" alt="Logo" class="logo-img-desktop">
                <h1>Uki's Dive Tools</h1>
            </div>

            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-toggle"><input type="checkbox" id="theme-toggle" /><span class="slider round"></span></label>
                <label for="theme-toggle" class="theme-label">Tryb Ciemny</label>
            </div>

            <ul>
                <li class="pro-menu-item"><a href="#" data-tab="pro-dashboard">Strefa PRO</a></li>
                <li><a href="#" class="active" data-tab="sac-calculator">Kalkulator SAC</a></li>
                <li><a href="#" data-tab="nitrox-calculator">Kalkulator Nitrox</a></li>
                <li><a href="#" data-tab="gas-planning-calculator">Planowanie Gazu</a></li>
                <li><a href="#" data-tab="ballast-calculator">Kalkulator Balastu</a></li>
                <li><a href="#" data-tab="divemaster-tools">NarzÄ™dzia Divemastera</a></li>
                <li><a href="#" data-tab="science-of-diving">Wiedza Nurkowa</a></li>
                <li><a href="#" data-tab="settings-panel">Ustawienia</a></li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="donation-wrapper">
                    <a href="#" id="donation-link">
                        Podoba Ci siÄ™ to narzÄ™dzie?
                        <strong>Postaw mi kawÄ™!</strong>
                    </a>
                </div>

                <div class="emergency-wrapper" id="emergency-btn">
                    <a href="#">
                        ðŸš¨ WYPADEK?
                        <strong>SOS / KOMORA</strong>
                    </a>
                </div>
            </div>

        </nav>

        <main class="app-content">
            
            <div class="tab-content-wrapper">
                
                <div id="pro-dashboard" class="tab-content">
                    <div class="pro-header">
                        <h3>Strefa Profesjonalisty</h3>
                        <p>Zaawansowane narzÄ™dzia dla nurkÃ³w technicznych i kadry.</p>
                    </div>
                    <div class="pro-dashboard-wrapper">
                        <div id="pro-overlay-lock" class="pro-lock-overlay">
                            <img src="img/logo.jpg" alt="Uki Logo" class="pro-overlay-logo">
                            <div class="lock-message">ðŸ”’ Funkcje zablokowane</div>
                            <button class="unlockProButton pulse-button">Postaw kawÄ™ aby odblokowaÄ‡! â˜•</button>
                        </div>
                        <div id="pro-tools-grid" class="dashboard-grid locked-grid">
                            <div class="dashboard-card" onclick="openProTool('gas-blender')"><h4>Gas Blender</h4><p>Mieszanie parcjalne.</p></div>
                            <div class="dashboard-card" onclick="openProTool('bailout-calculator')"><h4>Bailout</h4><p>Gaz ucieczkowy.</p></div>
                            <div class="dashboard-card" onclick="openProTool('pro-gas-calculator')"><h4>Planowanie + RB</h4><p>Symulacja zuÅ¼ycia.</p></div>
                            <div class="dashboard-card disabled-card"><h4>Deco Planner</h4><p>WkrÃ³tce.</p></div>
                        </div>
                    </div>
                </div>

                <div id="gas-blender" class="tab-content pro-tool-view">
                    <button class="back-to-dashboard" onclick="backToDashboard()">WrÃ³Ä‡ do Strefy PRO</button>
                    <h3>Kalkulator Mieszania (Blender)</h3>
                    <form id="blenderForm" class="two-column-form">
                        <div class="form-column"><h4>1. Start</h4><div class="input-group"><label>Obecne Bar</label><input type="number" id="blendStartBar" value="0"></div><div class="input-group"><label>Obecne O2%</label><input type="number" id="blendStartO2" value="21"></div></div>
                        <div class="form-column"><h4>2. Cel</h4><div class="input-group"><label>Cel Bar</label><input type="number" id="blendTargetBar" value="200"></div><div class="input-group"><label>Cel O2%</label><input type="number" id="blendTargetO2" value="32"></div></div>
                        <div class="form-full-width"><button type="submit">Oblicz</button></div>
                    </form>
                    <div id="blenderResult" class="result-container"></div>
                </div>

                <div id="bailout-calculator" class="tab-content pro-tool-view">
                    <button class="back-to-dashboard" onclick="backToDashboard()">WrÃ³Ä‡ do Strefy PRO</button>
                    <h3>Bailout Calculator</h3>
                    <form id="bailoutForm" class="two-column-form">
                        <div class="form-column"><div class="input-group"><label>SAC Stres</label><input type="number" id="bailoutSac" value="30"></div><div class="input-group"><label>GÅ‚Ä™b. Awarii</label><input type="number" id="bailoutDepth" value="40"></div></div>
                        <div class="form-column"><div class="input-group"><label>Czas Reakcji</label><input type="number" id="bailoutTime" value="1"></div><div class="input-group"><label>PrÄ™dk. Wynurzania</label><input type="number" id="bailoutAscentRate" value="10"></div><div class="input-group"><label>Butla (l)</label><input type="number" id="bailoutTank" value="11"></div><input type="hidden" id="bailoutTargetDepth" value="0"></div>
                        <div class="form-full-width"><button type="submit">Oblicz Bailout</button></div>
                    </form>
                    <div id="bailoutResult" class="result-container"></div>
                </div>

                <div id="pro-gas-calculator" class="tab-content pro-tool-view">
                    <button class="back-to-dashboard" onclick="backToDashboard()">WrÃ³Ä‡ do Strefy PRO</button>
                    <h3>Planowanie + Rock Bottom</h3>
                    <form id="proGasForm" class="two-column-form">
                        <div class="form-column"><div class="input-group"><label>SAC</label><input type="number" id="gcSAC_pro" value="20"></div><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="gcDepth_pro" value="30"></div><div class="input-group"><label>Czas Denny</label><input type="number" id="gcBottomTime_pro" value="20"></div></div>
                        <div class="form-column"><div class="input-group"><label>Butla (l)</label><input type="number" id="gcTankSize_pro" value="15"></div><div class="input-group"><label>Start Bar</label><input type="number" id="gcStartPressure_pro" value="200"></div>
                        <input type="hidden" id="gcDescentRate_pro" value="15"><input type="hidden" id="gcAscentRate_pro" value="10"><input type="hidden" id="gcStopDepth_pro" value="5"><input type="hidden" id="gcStopTime_pro" value="3"><input type="hidden" id="rbStressFactor_pro" value="2"><input type="hidden" id="rbDivers_pro" value="2"><input type="hidden" id="rbEmergencyTime_pro" value="2"><input type="hidden" id="rbSafetyMargin_pro" value="10"></div>
                        <div class="form-full-width"><button type="submit">Oblicz</button></div>
                    </form>
                    <div id="proGasResult" class="result-container"></div>
                </div>

                <div id="sac-calculator" class="tab-content active-tab">
                    <h3>Kalkulator SAC</h3>
                    <form id="sacForm" class="two-column-form">
                        <div class="form-column"><div class="input-group"><label>PoczÄ…tek (bar)</label><input type="number" id="p1" required></div><div class="input-group"><label>Koniec (bar)</label><input type="number" id="p2" required></div><div class="input-group"><label>Butla (l)</label><input type="number" id="vb" value="15"></div></div>
                        <div class="form-column"><div class="input-group"><label>Åšr. GÅ‚Ä™bokoÅ›Ä‡ (m)</label><input type="number" id="depth" required></div><div class="input-group"><label>Czas (min)</label><input type="number" id="time" required></div><div class="input-group"><label>Woda</label><select id="waterType"><option value="fresh">SÅ‚odka</option><option value="salt">SÅ‚ona</option></select></div></div>
                        <div class="form-full-width"><button type="submit">Oblicz SAC</button></div>
                    </form>
                    <div id="result" class="result-container"></div>
                </div>

                <div id="nitrox-calculator" class="tab-content">
                    <nav class="sub-tab-nav">
                        <button class="sub-tab-button active" data-subtab="mod-calculator">MOD</button>
                        <button class="sub-tab-button" data-subtab="ead-calculator">EAD</button>
                        <button class="sub-tab-button" data-subtab="best-mix-calculator">Best Mix</button>
                        <button class="sub-tab-button" data-subtab="cns-calculator">CNS</button>
                    </nav>
                    <div class="input-group"><label>O2 %</label><input type="number" id="nitroxO2" value="32"></div>
                    <div class="sub-tab-content-wrapper">
                        <div id="mod-calculator" class="sub-tab-content active-sub-tab"><form id="modForm"><div class="input-group"><label>PPO2</label><input type="number" id="modPO2" value="1.4" step="0.1"></div><button type="submit">Oblicz MOD</button></form><div id="modResult" class="result-container"></div></div>
                        <div id="ead-calculator" class="sub-tab-content"><form id="eadForm"><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="eadDepth"></div><button type="submit">Oblicz EAD</button></form><div id="eadResult" class="result-container"></div></div>
                        <div id="best-mix-calculator" class="sub-tab-content"><form id="bestMixForm"><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="bestMixDepth"></div><div class="input-group"><label>PPO2</label><input type="number" id="bestMixPO2" value="1.4" step="0.1"></div><button type="submit">Oblicz Best Mix</button></form><div id="bestMixResult" class="result-container"></div></div>
                        <div id="cns-calculator" class="sub-tab-content"><form id="cnsForm"><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="cnsDepth"></div><div class="input-group"><label>Czas</label><input type="number" id="cnsTime"></div><button type="submit">Oblicz CNS</button></form><div id="cnsResult" class="result-container"></div></div>
                    </div>
                </div>

                <div id="gas-planning-calculator" class="tab-content">
                    <nav class="sub-tab-nav"><button class="sub-tab-button active" data-subtab="rb-calculator">Rock Bottom</button><button class="sub-tab-button" data-subtab="consumption-calculator">ZuÅ¼ycie</button></nav>
                    <div class="sub-tab-content-wrapper">
                        <div id="rb-calculator" class="sub-tab-content active-sub-tab">
                            <form id="rbForm" class="two-column-form">
                                <div class="form-column"><div class="input-group"><label>SAC</label><input type="number" id="rbSAC" value="20"></div><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="rbDepth" value="30"></div><div class="input-group"><label>Butla (l)</label><input type="number" id="rbVolume" value="24"></div></div>
                                <div class="form-column"><div class="input-group"><label>GÅ‚Ä™b. Stopu</label><input type="number" id="rbStopDepth" value="6"></div><input type="hidden" id="rbStressFactor" value="2"><input type="hidden" id="rbDivers" value="2"><input type="hidden" id="rbEmergencyTime" value="2"><input type="hidden" id="rbSafetyMargin" value="10"><input type="hidden" id="rbAscentRate" value="10"></div>
                                <div class="form-full-width"><button type="submit">Oblicz Rock Bottom</button></div>
                            </form>
                            <div id="rbResult" class="result-container"></div>
                        </div>
                        <div id="consumption-calculator" class="sub-tab-content">
                            <form id="gasConsumptionForm" class="two-column-form">
                                <div class="form-column"><div class="input-group"><label>SAC</label><input type="number" id="gcSAC" value="20"></div><div class="input-group"><label>GÅ‚Ä™bokoÅ›Ä‡</label><input type="number" id="gcDepth" value="30"></div><div class="input-group"><label>Czas</label><input type="number" id="gcBottomTime" value="20"></div></div>
                                <div class="form-column"><div class="input-group"><label>Butla</label><input type="number" id="gcTankSize" value="15"></div><div class="input-group"><label>Start Bar</label><input type="number" id="gcStartPressure" value="200"></div><div class="input-group"><label>Rezerwa</label><input type="number" id="gcReserve" value="50"></div><input type="hidden" id="gcDescentRate" value="15"><input type="hidden" id="gcAscentRate" value="10"><input type="hidden" id="gcStopDepth" value="5"><input type="hidden" id="gcStopTime" value="3"></div>
                                <div class="form-full-width"><button type="submit">Oblicz</button></div>
                            </form>
                            <div id="gcResult" class="result-container"></div>
                        </div>
                    </div>
                </div>

                <div id="ballast-calculator" class="tab-content">
                    <h3>Kalkulator Balastu</h3>
                    <form id="ballastForm" class="two-column-form">
                        <div class="form-column"><div class="input-group"><label>Waga (kg)</label><input type="number" id="ballastWeight" value="75"></div><div class="input-group"><label>Budowa</label><select id="ballastBodyType"><option value="average">Åšrednia</option><option value="athletic">Atletyczna</option><option value="overweight">Nadwaga</option></select></div><div class="input-group"><label>Skafander</label><select id="ballastSuit"><option value="foam7">Pianka 7mm</option><option value="dryTri">Suchy Trylam</option></select></div><div class="input-group" id="ballast-warmer-group"><label>Ocieplacz</label><select id="ballastWarmer"><option value="thin">Cienki</option><option value="thick">Gruby</option></select></div></div>
                        <div class="form-column"><div class="input-group"><label>Butla</label><select id="ballastTank"><option value="steel15">Stal 15L</option><option value="alu11">Alu 11L</option></select></div><div class="input-group" id="ballast-plate-group" style="display:none"><label>PÅ‚yta</label><select id="ballastPlate"><option value="steel">Stal</option></select></div><div class="input-group"><label>Woda</label><select id="ballastWater"><option value="salt">SÅ‚ona</option><option value="fresh">SÅ‚odka</option></select></div></div>
                        <div class="form-full-width"><button type="submit">Oblicz Balast</button></div>
                    </form>
                    <div id="ballastResult" class="result-container"></div>
                </div>

                <div id="science-of-diving" class="tab-content">
                    <h3>Wiedza Nurkowa</h3>
                    <nav class="sub-tab-nav"><button class="sub-tab-button active" data-subtab="sod-sac">SAC</button><button class="sub-tab-button" data-subtab="sod-nitrox">Nitrox</button><button class="sub-tab-button" data-subtab="sod-gas">Gazy</button><button class="sub-tab-button" data-subtab="sod-ballast">Balast</button></nav>
                    <div class="sub-tab-content-wrapper">
                        <div id="sod-sac" class="sub-tab-content active-sub-tab"><div class="science-content"><h4>SAC</h4><div class="formula-box"><p class="formula">SAC = ((P1 - P2) * Vb) / (PÅ›r * T)</p><ul><li>P1/P2: CiÅ›nienie start/koniec</li><li>Vb: Butla</li><li>PÅ›r: Åšrednie ciÅ›nienie</li></ul></div></div></div>
                        <div id="sod-nitrox" class="sub-tab-content"><div class="science-content"><h4>MOD</h4><div class="formula-box"><p class="formula">MOD = ((PPO2 / FO2) - 1) * 10</p></div><h4>EAD</h4><div class="formula-box"><p class="formula">EAD = ((D + 10) * FN2 / 0.79) - 10</p></div></div></div>
                        <div id="sod-gas" class="sub-tab-content"><div class="science-content"><h4>Plan</h4><div class="formula-box"><p>Suma gazu z faz: Zanurzenie + Dno + Wynurzenie + Przystanek.</p></div><h4>Rock Bottom</h4><div class="formula-box"><p>Rezerwa dla 2 nurkÃ³w w stresie przy awaryjnym wynurzeniu.</p></div></div></div>
                        <div id="sod-ballast" class="sub-tab-content"><div class="science-content"><h4>Balast</h4><div class="formula-box"><p>Baza: 10% wagi. Pianka +/-, Suchy +4-8kg, Woda sÅ‚odka -2kg, Stal -, Alu +.</p></div></div></div>
                    </div>
                </div>

                <div id="divemaster-tools" class="tab-content"><h3>NarzÄ™dzia DM</h3><p>Checklisty (w budowie).</p></div>
                
                <div id="settings-panel" class="tab-content">
                    <h3>Ustawienia</h3>
                    <div class="settings-toggle-row"><label>Liquid Glass</label><label class="theme-switch"><input type="checkbox" id="glass-toggle"><span class="slider round"></span></label></div>
                    <div class="settings-toggle-row"><label>Woda DomyÅ›lna</label><select id="global-water-type" class="settings-select"><option value="fresh">SÅ‚odka</option><option value="salt">SÅ‚ona</option></select></div>
                    <h4>Tapeta</h4>
                    <div class="wallpaper-options">
                         <img src="background_uki.jpg" class="wallpaper-thumb active" data-wallpaper="url('background_uki.jpg')">
                         <div class="wallpaper-thumb" style="background:#000" data-wallpaper="url('')"></div>
                    </div>
                </div>

            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>